### æ—…è¡Œå•†é—®é¢˜ (Traveling Salesperson Problem) ç³»åˆ—

æœ¬ç³»åˆ—é€šè¿‡å®é™…æ¡ˆä¾‹ï¼Œæ¢è®¨å¦‚ä½•ä½¿ç”¨Pythonè§£å†³ç»å…¸çš„æ—…è¡Œå•†é—®é¢˜ã€‚

---

### **é¡¹ç›®ä¸€ï¼šæˆéƒ½ä¸€æ—¥æ¸¸è·¯çº¿è§„åˆ’**

æœ¬é¡¹ç›®ä»¥æˆéƒ½çš„8ä¸ªçƒ­é—¨åœ°ç‚¹ä¸ºä¾‹ï¼Œæ¢ç´¢å¦‚ä½•è§„åˆ’å‡ºæœ€ä¼˜çš„é©¾è½¦æ¸¸è§ˆé¡ºåºã€‚

*   **å¯¹åº”æ–‡ç« **ï¼š[ã€ŠèŠ±åŠå¤©è§„åˆ’çš„æ—…è¡Œè·¯çº¿ï¼Œä¸ºä»€ä¹ˆè¿˜ä¸å¦‚Pythonè·‘10ç§’çš„ç»“æœï¼Ÿã€‹](https://www.renhai.online/blog/geospatial-data-analysis/traveling-salesperson-problem-algorithm-vs-human-intuition)
*   **ä»£ç ç›®å½•**ï¼š`4-ç©ºé—´æ•°æ®åˆ†æ/å…¶ä»–æ¡ˆä¾‹/æ—…è¡Œè§„åˆ’é—®é¢˜/`

### **å¦‚ä½•è¿è¡Œ**

#### **1. ç¯å¢ƒå‡†å¤‡**

é¦–å…ˆï¼Œè¯·ç¡®ä¿æ‚¨å·²å®‰è£… `uv`ã€‚ç„¶åè¿›å…¥é¡¹ç›®ä¸»ç›®å½•å¹¶å®‰è£…æ‰€éœ€ä¾èµ–ã€‚

```bash
# è¿›å…¥è¯¥æ¡ˆä¾‹çš„æ ¹ç›®å½•
cd 4-ç©ºé—´æ•°æ®åˆ†æ/å…¶ä»–æ¡ˆä¾‹/æ—…è¡Œè§„åˆ’é—®é¢˜

# ä½¿ç”¨ uv å®‰è£…ä¾èµ–
# - eviltransform: ç”¨äºå¤„ç†ä¸åŒåœ°å›¾æœåŠ¡å•†ï¼ˆå¦‚WGS84, GCJ-02, BD-09ï¼‰é—´çš„åæ ‡è½¬æ¢
# - requests: ç”¨äºè°ƒç”¨é«˜å¾·åœ°å›¾API
# - folium: ç”¨äºåœ¨åœ°å›¾ä¸Šå¯è§†åŒ–è·¯çº¿
uv add eviltransform requests folium
```

#### **2. è¿è¡Œè„šæœ¬**

> **ğŸ’¡ é‡è¦æç¤ºï¼šå…³äºæ•°æ®ç¼“å­˜ä¸API Key**
> 
> ä¸ºäº†ä¿è¯ç»“æœçš„å¯å¤ç°æ€§ï¼Œå¹¶é¿å…å› å®æ—¶è·¯å†µå˜åŒ–å½±å“ç»“è®ºï¼Œæœ¬é¡¹ç›®å°†é¦–æ¬¡é€šè¿‡é«˜å¾·åœ°å›¾APIè·å–çš„æ™¯ç‚¹é—´é©¾è½¦æ—¶é—´çŸ©é˜µï¼Œç¼“å­˜åˆ°äº† `cache/chengdu_travel_time_cache_driving.json` ç­‰æ–‡ä»¶ä¸­ã€‚
>
> *   **ç›´æ¥è¿è¡Œ**ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œè„šæœ¬ä¼šä¼˜å…ˆä½¿ç”¨æ­¤ç¼“å­˜æ–‡ä»¶ï¼Œæ— éœ€é…ç½®API Keyå³å¯å¤ç°æ–‡ç« ä¸­çš„ç»“æœã€‚
> *   **è·å–æœ€æ–°æ•°æ®**ï¼šå¦‚æœæ‚¨æƒ³ä½¿ç”¨å®æ—¶çš„è·¯å†µæ•°æ®é‡æ–°è®¡ç®—ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
>     1.  åœ¨ `.env` æ–‡ä»¶ä¸­å¡«å†™æ‚¨è‡ªå·±çš„é«˜å¾·åœ°å›¾åº”ç”¨Key (AK)ã€‚
>     2.  (å¯é€‰) åˆ é™¤ `cache/chengdu_travel_time_cache_driving.json` å’Œ `cache/chengdu_travel_path_cache_driving.json` æ–‡ä»¶ï¼Œä»¥ç¡®ä¿ç¨‹åºé‡æ–°è¯·æ±‚APIã€‚

å‡†å¤‡å°±ç»ªåï¼Œè¿è¡Œä¸»è„šæœ¬ï¼š

```bash
uv run chengdu_travel_planner_driving/travel_planner_driving.py```

#### **3. æŸ¥çœ‹ç»“æœ**

è„šæœ¬è¿è¡ŒæˆåŠŸåï¼Œå°†åœ¨ `chengdu_travel_planner_driving` ç›®å½•ä¸‹ç”Ÿæˆä»¥ä¸‹ä¸‰ä¸ªHTMLæ–‡ä»¶ã€‚æ‚¨å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å®ƒä»¬ï¼ŒæŸ¥çœ‹ä¸åŒç®—æ³•è§„åˆ’å‡ºçš„è·¯çº¿ï¼š

*   `route_map_nn.html`: **æœ€è¿‘é‚»ç®—æ³• (Nearest Neighbor)** - ä¸€ç§ç®€å•çš„è´ªå¿ƒç­–ç•¥ã€‚
*   `route_map_ga.html`: **é—ä¼ ç®—æ³• (Genetic Algorithm)** - ä¸€ç§æ¨¡æ‹Ÿç”Ÿç‰©è¿›åŒ–çš„å…¨å±€ä¼˜åŒ–ç®—æ³•ã€‚
*   `route_map_aco.html`: **èšç¾¤ç®—æ³• (Ant Colony Optimization)** - æ¨¡æ‹Ÿèš‚èšå¯»æ‰¾é£Ÿç‰©è·¯å¾„çš„å¯å‘å¼ç®—æ³•ã€‚

### **4.æ‰‹åŠ¨è§„åˆ’**

æ”¯æŒæ‰‹åŠ¨è§„åˆ’è·¯çº¿ï¼Œç”¨äºæµ‹è¯•ã€‚

```bash
# æ˜¾ç¤ºå¾…è§„åˆ’çš„å‡ ä¸ªç‚¹
uv run chengdu_travel_planner_driving/plot_locations.py```

æŸ¥çœ‹all_locations_map.html

```bash
uv run chengdu_travel_planner_driving/manual_route_time.py```

æ§åˆ¶å°æŸ¥çœ‹æ—¶é—´ï¼Œmanual_route_map.htmlæŸ¥çœ‹åœ°å›¾
